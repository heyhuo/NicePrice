<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 引入 Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="js/jquery.min.js"></script>
    <!-- HTML5 Shiv 和 Respond.js 用于让 IE8 支持 HTML5元素和媒体查询 -->
    <!-- 注意： 如果通过 file://  引入 Respond.js 文件，则该文件无法起效果 -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column">

            <nav class="navbar navbar-default navbar-fixed-top" role="navigation">

                <div class="col-md-1 column">
                    <br>
                    <img alt="140x140" height="70" weight="70" src="img/logo.png" class="img-circle"/>
                    <br>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li>
                            <br><br>
                            <a href="#sportOut">运动户外</a>

                        </li>
                        <li>
                            <br><br>
                            <a href="#elecDevice">电子设备</a>

                        </li>
                        </li>
                        <li>
                            <br><br>
                            <a href="#beautyMakeup">美妆个护</a>

                        </li>
                        <li>
                            <br><br>
                            <a href="#homeTextiles">家居家纺</a>

                        </li>
                        <li>
                            <br><br>
                            <a href="#babyProduct">婴儿用品</a>
                        </li>
                        <li>
                            <br><br>
                            <a href="#booksFun">图书文娱</a>
                        </li>

                        <li>
                            <br><br>
                            <a href="#homeDevice">家用电器</a>

                        </li>


                        <li>
                            <br><br>
                            <a href="#freshWater">生鲜酒水</a>
                        </li>

                    </ul>
                    <form class="navbar-form navbar-left" role="search">
                        <br><br>
                        <div class="input-group" input-group-lg>
                            <input type="text" class="form-control" id="goods-name-input">
                            <span class="input-group-btn">
                            <button class="btn btn-default " type="button"
                                    onclick="searchGoodsByGoodsName()">搜索</button>
                        </span>
                        </div>
                    </form>
                    <ul class="nav navbar-nav navbar-right">
                        <br><br>
                        <li>
                            <a href="#" style="color: darkred">登录 | 注册</a>
                        </li>

                    </ul>
                </div>
            </nav>
        </div>
    </div>
</div>

<hr>
<br><br><br><br>
<img alt="140x140" src="img/sports.png"/>
<div class="Electronic digital">
    <h3 class="text-center" id="sportOut">
        1、运动户外
    </h3>
    <div class="container">
        <div class="row clearfix">
            <div class="col-md-12 column" id="div-sportOut">

            </div>
        </div>
    </div>
</div>


<hr>
<br><br><br><br>
<img alt="140x140" src="img/dianzi.png"/>
<h3 class="text-center" id="elecDevice">

    2、电子设备
</h3>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column" id="div-elecDevice">

        </div>
    </div>
</div>
</div>
<hr>
<br><br><br><br>
<img alt="140x140" src="img/meizhuang.png"/>
<h3 class="text-center" id="beautyMakeup">
    3、美妆个护
</h3>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column" id="div-beautyMakeup">

        </div>
    </div>
</div>
</div>

<hr>
<br><br><br><br>
<img alt="140x140" src="img/meizhuang.png"/>
<h3 class="text-center" id="homeTextiles">
    4、家居家纺
</h3>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column" id="div-homeTextiles">

        </div>
    </div>
</div>
</div>

<hr>
<br><br><br><br>
<img alt="140x140" src="img/meizhuang.png"/>
<h3 class="text-center" id="babyProduct">
    5、婴儿用品
</h3>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column" id="div-babyProduct">

        </div>
    </div>
</div>
</div>

<hr>
<br><br><br><br>
<img alt="140x140" src="img/meizhuang.png"/>
<h3 class="text-center" id="booksFun">
    6、图书文娱
</h3>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column" id="div-booksFun">

        </div>
    </div>
</div>
</div>

<hr>
<br><br><br><br>
<img alt="140x140" src="img/meizhuang.png"/>
<h3 class="text-center" id="homeDevice">
    7、家用电器
</h3>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column" id="div-homeDevice">

        </div>
    </div>
</div>
</div>

<hr>
<br><br><br><br>
<img alt="140x140" src="img/meizhuang.png"/>
<h3 class="text-center" id="freshWater">
    8、生鲜酒水
</h3>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column" id="div-freshWater">

        </div>
    </div>
</div>
</div>


</body>
<script type="text/javascript">
    $(function () {
        getGoodsList();
    })
</script>
<script type="text/javascript">
    function getGoodsList() {
        $.ajax({
            type: "POST",
            url: "/hbj/getGoodsList",
            data: {},
            success: function (data) {
                // console.log(data);
                for (let key in data) {
                    console.log(key);
                    let rs = data[key];
                    if (rs.length == 0) continue;
                    let a = ' <div class="row">';
                    let b = '';
                    let variety = rs[0].variety;
                    for (let i = 0; i < rs.length; i++) {
                        console.log(rs[i]);
                        b += '<div class="col-md-3">\n' +
                            '                    <div class="thumbnail">\n' +
                            '                        <img alt="300x200" src="' + rs[i].picAddress + '"/>\n' +
                            '                        <div class="caption">\n' +
                            '                            <div class="row clearfix">\n' +
                            '                                <div class="col-md-5 column">\n' +
                            '                                    <h3>￥' + rs[i].price + '</h3>\n' +
                            '                                </div>\n' +
                            '                                <div class="col-md-7 column">\n' +
                            '                                    <br>\n' +
                            '                                    <s>￥' + rs[i].price + '</s>\n' +
                            '                                </div>\n' +
                            '                            </div>\n' +
                            '                            <a href="goods-detail.html?id=' + rs[i].goodsId + '">' + rs[i].goodsName +
                            '                            </a>\n' +
                            '                        </div>\n' +
                            '                    </div>\n' +
                            '                </div>';
                        if ((i + 1) % 4 == 0) {
                            b = a + b + '</div>';
                            $("#div-" + key).append(b);
                            b = '';
                        }
                    }
                    let c = '<div class="row clearfix">\n' +
                        '                    <div class="col-md-5 column"></div>\n' +
                        '                    <div class="col-md-6 column">\n' +
                        '                        <a class="btn btn-primary" href="view-all.html?variety=' + encodeURI(encodeURI(variety)) + '">查看所有</a>\n' +
                        '                    </div>\n' +
                        '                </div>';
                    $("#div-" + key).append(c);

                }


            }
        })
    }

    //搜索商品
    function searchGoodsByGoodsName() {
        let goodsName = $("#goods-name-input").val();

        if (goodsName != '') {
            $.ajax({
                type: "POST",
                url: "/hbj/searchGoodsByGoodsName",
                data: {goodsName: goodsName},
                dataType: "json",
                success: function (rs) {
                    console.log("搜索-" + rs);
                }
            })
        } else {
            alert("请输入正确的搜索关键字");
        }
        if (goodsName != '') {
            goodsName = encodeURI(encodeURI(goodsName));
            window.open("view-all.html?variety=&goodsName=" + goodsName);
        } else {
            alert("请输入正确的搜索关键字");
        }
    }
</script>
</html>